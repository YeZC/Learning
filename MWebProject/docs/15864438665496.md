# JVM（1）Java内存区域
# 程序运行时，需要加载数据到内存上，我们称这块内存区为：**运行时数据区域**，包括了方法区、堆、虚拟机栈、本地方法栈和程序计数器 5种类型区域

#### 运行时数据区域
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200329113954481.jpeg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM1ODgwMDU0,size_16,color_FFFFFF,t_70#pic_center)
**程序计数器**

程序计数器是当前线程执行字节码的行号指示器，“线程私有”的内存

**虚拟机栈**

> 为执行Java方法提供服务，是Java方法执行的内存模型。

在执行方法时会创建一个栈帧用于存储局部变量表、操作数栈、动态链接、方法出口等信息，另外：方法从调用到执行完成的过程就是栈帧在虚拟机栈中入栈到出栈的过程

**本地方法栈**

区别于虚拟机栈：虚拟机栈为执行Java方法（字节码）服务
而本地方法栈为Native（底层c提供的方法）方法服务

> **程序计数器、虚拟机栈、本地方法栈为线程私有的内存区，生命周期与线程相同**

**堆**

堆是所有线程共享的内存区域，几乎所有对象都在堆中分配。

由于堆中可能划分出多个线程私有的分配缓冲区，使得“堆并非完全线程共享”

**方法区**

用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据
运行时常量池是方法区的一部分。

> 堆、方法区是线程共享的内存区，生命周期与虚拟机相同

**直接内存**
非虚拟机运行时数据区的一部分，用于NIO中使用Native库来分配堆外内存，避免Java堆和Native堆来回复制数据，从而提高性能






